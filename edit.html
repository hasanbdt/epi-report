<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>рж░рж┐ржкрзЛрж░рзНржЯ ржПржбрж┐ржЯ ржХрж░рзБржи</title>
  <style>
    body {
      font-family: "Siyam Rupali", sans-serif;
      background: #fffdee;
      max-width: 900px;
      margin: auto;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #d35400;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      font-size: 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .submit-btn {
      margin-top: 20px;
      background-color: #d35400;
      color: white;
      border: none;
      padding: 10px;
      font-size: 18px;
      border-radius: 10px;
      cursor: pointer;
      width: 100%;
    }
    .submit-btn:hover {
      background-color: #a04000;
    }

    .institute-header {
      text-align: center;
      margin-bottom: 10px;
      margin-top: 10px;
    }

    .institute-header .logo {
      width: 100px;
      height: auto;
      vertical-align: middle;
    }

    .institute-header h1 {
      color: #007f5f;
      margin: 5px 0 2px 0;
      font-size: 24px;
    }

    .institute-header h3 {
      color: #555;
      margin: 2px 0 10px 0;
      font-size: 16px;
      font-weight: normal;
    }

    .nav-links {
      text-align: center;
      margin: 20px 0;
    }

    .nav-links a {
      margin: 0 10px;
      text-decoration: none;
    }
  </style>
</head>

<body>
  <!-- ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб рж╢рзБрж░рзБ -->
<div id="passwordPrompt" style="text-align:center; margin-top:100px;">
  <h2>ЁЯФР ржПржЗ ржкрзЗржЗржЬ ржжрзЗржЦрждрзЗ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб ржжрж┐ржи:</h2>
  <input type="password" id="pagePassword" placeholder="ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб ржжрж┐ржи" style="padding:10px; font-size:16px;"/>
  <br><br>
  <button onclick="verifyPassword()" style="padding:8px 20px; font-size:16px;">рж╕рж╛ржмржорж┐ржЯ</button>
  <p id="errorText" style="color:red; margin-top:10px;"></p>
</div>

<div id="mainContent" style="display:none;">
  <!-- ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб рж╢рзЗрж╖ -->

<!-- Base URL for relative links -->
<base href="https://hasanbdt.github.io/epi-report/">

<!-- тЬЕ Navigation Menu Start -->
<style>
  .nav-links {
    background-color: #007f5f;
    padding: 10px 0;
    text-align: center;
    border-radius: 10px;
    margin-bottom: 20px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  }

  .nav-links a {
    color: white;
    text-decoration: none;
    margin: 0 15px;
    font-size: 16px;
    font-weight: bold;
    padding: 8px 12px;
    border-radius: 6px;
    transition: background-color 0.3s ease;
  }

  .nav-links a:hover {
    background-color: #34a0a4;
  }
</style>

<div class="nav-links">
  <a href="https://hasanbdt.github.io/epi-report/index.html">ЁЯУе рж░рж┐ржкрзЛрж░рзНржЯ ржЬржорж╛</a>
  <a href="https://hasanbdt.github.io/epi-report/list.html">ЁЯУЛ рж░рж┐ржкрзЛрж░рзНржЯ рж╕ржорзНржорж┐рж▓рж┐ржд</a>
  <a href="https://hasanbdt.github.io/epi-report/list-final.html">тнР рж░рж┐ржкрзЛрж░рзНржЯ ржЪрзВрзЬрж╛ржирзНржд</a>
  <a href="https://hasanbdt.github.io/epi-report/edit.html">тнР рж╕ржорзНржкрж╛ржжржирж╛</a>
  <a href="https://hasanbdt.github.io/epi-report/admin.html">тнР ржПрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓</a>
</div>
<!-- тЬЕ Navigation Menu End -->

<div class="institute-header">
  <img src="epi.png" alt="Logo" class="logo" />
  <h1>ржЗржкрж┐ржЖржЗ ржПржХрж╛ржбрзЗржорж┐, ржврж╛ржХрж╛</h1>
  <h3>рж╕рзНржмржкрзНржи ржкрзВрж░ржгрзЗ ржЖржЧрж╛ржорзАрж░ ржкржерзЗ...</h3>
</div>

<h2>ЁЯУЭ рж░рж┐ржкрзЛрж░рзНржЯ ржПржбрж┐ржЯ ржХрж░рзБржи</h2>
<form id="editForm">
  <label>рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ ржирж╛ржо:</label>
  <input type="text" id="studentName" required>

  <label>ржХрзНрж▓рж╛рж╕:</label>
  <input type="text" id="studentClass" required>

  <label>рж░рзЛрж▓:</label>
  <input type="text" id="studentRoll" required>

  <label>рзз. ржЖржЬржХрзЗрж░ ржжрж┐ржиржЯрж┐ ржХрзЗржоржи ржЫрж┐рж▓?</label>
  <select id="dayFeeling">
    <option>ЁЯШГ ржЦрзБржм ржнрж╛рж▓рзЛ</option>
    <option>ЁЯЩВ ржорзЛржЯрж╛ржорзБржЯрж┐</option>
    <option>ЁЯШР ржЦрж╛рж░рж╛ржк</option>
  </select>

  <label>рзи. ржЖржорж┐ ржЖржЬ ржХрзА рж╢рж┐ржЦрзЗржЫрж┐?</label>
  <select id="learned" required>
    <option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
    <option>ЁЯУЧ ржХрзЛрж░ржЖржирзЗрж░ ржЖрзЯрж╛ржд/ржЧрзАрждрж╛рж░ рж╢рзНрж▓рзЛржХ </option>
    <option>ЁЯУШ ржирждрзБржи ржжрзЛрзЯрж╛/ржоржирзНрждрзНрж░</option>
    <option>ЁЯУХ ржЗрж╕рж▓рж╛ржорж┐ржХ ржЖржжржм/ржзрж░рзНржорзАрзЯ ржЖржжржм</option>
    <option>ЁЯУЩ ржЧржгрж┐ржд/ржмрж┐ржЬрзНржЮрж╛ржи/ржХржорзНржкрж┐ржЙржЯрж╛рж░</option>
    <option>ЁЯУЩ ржирждрзБржи рж╢ржмрзНржжрж╛рж░рзНрже (ржЖрж░ржмрзА/ржЗржВрж░рзЗржЬрж┐)</option>
    <option>ЁЯд╖ ржХрж┐ржЫрзБ рж╢рж┐ржЦрж┐ржирж┐</option>
  </select>

  <label>рзй. ржЖржЬ ржЖржорж┐ ржХрзА ржнрж╛рж▓рзЛ ржХрж╛ржЬ ржХрж░рзЗржЫрж┐?</label>
  <select id="goodDeed" required>
    <option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
    <option>ЁЯХМ ржХрж╛ржЙржХрзЗ ржнрж╛рж▓рзЛ ржХрж┐ржЫрзБ рж╢рж┐ржЦрж┐рзЯрзЗржЫрж┐</option>
    <option>ЁЯСР рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗржЫрж┐</option>
    <option>ЁЯШК ржнрж╛рж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржЫрж┐</option>
    <option>ЁЯСР ржХрж╛ржЙржХрзЗ ржХрзНрж╖ржорж╛ ржХрж░рзЗ ржжрж┐рзЯрзЗржЫрж┐</option>
    <option>ЁЯШЗ ржорж┐ржерзНржпрж╛ ржмрж▓рж┐ржирж┐</option>
    <option>ЁЯЩБ ржХрж┐ржЫрзБ ржХрж░рж┐ржирж┐</option>
  </select>

  <label>рзк. ржЖржЬ ржХрзЛржирзЛ ржнрзБрж▓ ржХрж░рзЗржЫрж┐?</label>
  <select id="mistake" required>
    <option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
    <option>ЁЯУ▒ ржорзЛржмрж╛ржЗрж▓ ржмрзЗрж╢рж┐ ржжрзЗржЦрзЗржЫрж┐</option>
    <option>ЁЯУЪ ржХрзНрж▓рж╛рж╕/ржкрзНрж░рж╛ржЗржнрзЗржЯрзЗрж░ ржкрзЬрж╛ ржнрж╛рж▓рзЛ рж╣рзЯржирж┐</option>
    <option>ЁЯШб рж░рж╛ржЧ ржХрж░рзЗржЫрж┐</option>
    <option>ЁЯЩК ржорж┐ржерзНржпрж╛ ржмрж▓рзЗржЫрж┐</option>
    <option>тЬЕ ржнрзБрж▓рзЗрж░ ржЬржирзНржп ржХрзНрж╖ржорж╛ ржЪрзЗрзЯрзЗржЫрж┐</option>
    <option>тЬЕ ржХрзЛржирзЛ ржнрзБрж▓ ржХрж░рж┐ржирж┐</option>
  </select>

  <label>рзл. ржЖржЬ ржЖржорж╛рж░ ржЙржкрж░ ржХрзЗ ржмрзЗрж╢рж┐ ржЦрзБрж╢рж┐ ржЫрж┐рж▓?</label>
  <select id="lovedPerson" required>
    <option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
    <option>ЁЯСй ржорж╛</option>
    <option>ЁЯСи ржмрж╛ржмрж╛</option>
    <option>ЁЯСитАНЁЯПл рж╢рж┐ржХрзНрж╖ржХ</option>
    <option>ЁЯСз ржмржирзНржзрзБ</option>
    <option>ЁЯдР ржХрзЗржЙ ржирж╛</option>
  </select>

  <label>рзм. ржЖржЬ ржХрзА ржирж┐рзЯрзЗ ржмрзЗрж╢рж┐ ржнрж╛ржмржЫрж┐рж▓рж╛ржо?</label>
  <select id="thoughtAbout" required>
    <option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
    <option>ЁЯХЛ ржЖрж▓рзНрж▓рж╛рж╣/рж╕рзНрж░рж╖рзНржЯрж╛</option>
    <option>ЁЯУЦ ржкрзЬрж╛рж▓рзЗржЦрж╛</option>
    <option>тЪ╜ ржЦрзЗрж▓рж╛ржзрзБрж▓рж╛</option>
    <option>ЁЯСР ржкрж░рж┐ржмрж╛рж░/ржЕрж░рзНржержирзАрждрж┐</option>
    <option>ЁЯСР рж╕ржорж╛ржЬ/ржжрзЗрж╢</option>
    <option>ЁЯЩВ ржХрж┐ржЫрзБ ржирж╛</option>
  </select>

  <label>рзн. ржЖржЬ ржЖржорж┐ ржХрзЯ ржмрж╛рж░ ржкрзНрж░рж╛рж░рзНржержирж╛ ржХрж░рзЗржЫрж┐?</label>
  <select id="prayerTimes">
    <option>ЁЯХЛ рзл ржмрж╛рж░</option>
    <option>ЁЯХМ рзй-рзк ржмрж╛рж░</option>
    <option>ЁЯШХ рзз-рзи ржмрж╛рж░</option>
    <option>ЁЯЩБ рзз ржмрж╛рж░ржУ ржирж╛</option>
  </select>

  <label>рзо. ржЖржЬ ржЖржорж┐ ржХрждржмрж╛рж░ ржЖрж▓рзНрж▓рж╛рж╣ржХрзЗ/рж╕рзНрж░рж╖рзНржЯрж╛ржХрзЗ рж╕рзНржорж░ржг ржХрж░рзЗржЫрж┐?</label>
  <select id="rememberAllah">
    <option>ЁЯФЯ рззрзж ржмрж╛рж░рзЗрж░ ржмрзЗрж╢рж┐</option>
    <option>тЮР рзл-рззрзж ржмрж╛рж░</option>
    <option>тЮМ рзз-рзк ржмрж╛рж░</option>
    <option>ЁЯЩБ ржПржХржмрж╛рж░ржУ ржирж╛</option>
  </select>

  <button type="submit" class="submit-btn">ЁЯФБ ржЖржкржбрзЗржЯ ржХрж░рзБржи</button>
</form>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDwKp_6znRl7TkIpXa3uFuZGOUxSHnkHOM",
    authDomain: "dailyreport-9512d.firebaseapp.com",
    databaseURL: "https://dailyreport-9512d-default-rtdb.firebaseio.com",
    projectId: "dailyreport-9512d",
    storageBucket: "dailyreport-9512d.appspot.com",
    messagingSenderId: "469725849063",
    appId: "1:469725849063:web:3d82a4560478d1b11f8942"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const params = new URLSearchParams(window.location.search);
  const id = params.get("id");

  const form = document.getElementById("editForm");

  function setValue(id, value) {
    document.getElementById(id).value = value || "";
  }

  function getValue(id) {
    return document.getElementById(id).value;
  }

  // ржбрж╛ржЯрж╛ рж▓рзЛржб
  if (id) {
    db.ref("dailyReports/" + id).once("value").then(snapshot => {
      const data = snapshot.val();
      if (data) {
        setValue("studentName", data.studentName);
        setValue("studentClass", data.studentClass);
        setValue("studentRoll", data.studentRoll);
        setValue("dayFeeling", data.dayFeeling);
        setValue("learned", data.learned);
        setValue("goodDeed", data.goodDeed);
        setValue("mistake", data.mistake);
        setValue("lovedPerson", data.lovedPerson);
        setValue("thoughtAbout", data.thoughtAbout);
        setValue("prayerTimes", data.prayerTimes);
        setValue("rememberAllah", data.rememberAllah);
        // тЬЕ ржкрзБрж░ржирзЛ timestamp ржзрж░рзЗ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп
        form.dataset.timestamp = data.timestamp || "";
      }
    });
  }

  form.addEventListener("submit", function(e) {
    e.preventDefault();

    const updatedData = {
      studentName: getValue("studentName"),
      studentClass: getValue("studentClass"),
      studentRoll: getValue("studentRoll"),
      dayFeeling: getValue("dayFeeling"),
      learned: getValue("learned"),
      goodDeed: getValue("goodDeed"),
      mistake: getValue("mistake"),
      lovedPerson: getValue("lovedPerson"),
      thoughtAbout: getValue("thoughtAbout"),
      prayerTimes: getValue("prayerTimes"),
      rememberAllah: getValue("rememberAllah"),
      timestamp: form.dataset.timestamp || new Date().toISOString()  // тЬЕ ржЖржЧрзЗрж░ржЯрж╛ ржерж╛ржХрж▓рзЗ рж╕рзЗржЯрж╛ рж░рж╛ржЦржмрзЗ
    };

    db.ref("dailyReports/" + id).set(updatedData).then(() => {
      alert("тЬЕ рж░рж┐ржкрзЛрж░рзНржЯ рж╕ржлрж▓ржнрж╛ржмрзЗ ржЖржкржбрзЗржЯ рж╣рзЯрзЗржЫрзЗ!");
      window.location.href = "list.html";
    });
  });
</script>

<script>
  function verifyPassword() {
    const correctPassword = "19895"; // ржЖржкржирж╛рж░ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб ржПржЦрж╛ржирзЗ ржжрж┐ржи
    const userInput = document.getElementById("pagePassword").value;

    if (userInput === correctPassword) {
      document.getElementById("passwordPrompt").style.display = "none";
      document.getElementById("mainContent").style.display = "block";
    } else {
      document.getElementById("errorText").textContent = "тЫФ ржнрзБрж▓ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб! ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ рж╕ржарж┐ржХ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб ржжрж┐ржиред";
    }
  }

  // ржмрзНрж░рж╛ржЙржЬрж╛рж░ рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржмржирзНржз ржерж╛ржХрж▓рзЗ ржкрзЗржЗржЬ рж▓рзБржХрж╛ржирзЛ ржерж╛ржХржмрзЗ
  document.getElementById("mainContent").style.display = "none";
</script>


</body>
</html>


