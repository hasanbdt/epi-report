<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ржЖржорж╛рж░ ржЖржЬржХрзЗрж░ рж░рж┐ржкрзЛрж░рзНржЯ </title> 
  <style>
    body {
      font-family: "Siyam Rupali", sans-serif, Arial, sans-serif;
      background: #fffdee;
      max-width: 1000px;
      margin: auto;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h3 {
      text-align: center;
      color: #007f5f;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
    .submit-btn, .result-btn {
      margin-top: 20px;
      background-color: #38b000;
      color: white;
      border: none;
      padding: 10px;
      font-size: 18px;
      border-radius: 10px;
      cursor: pointer;
      width: 100%;
      display: none;
    }
    .submit-btn:hover {
      background-color: #2d6a4f;
    }
    .result-btn {
      background-color: #007f5f;
    }
    .institute-header {
      text-align: center;
      margin-bottom: 10px;
      margin-top: 10px;
    }
    .institute-header .logo {
      width: 100px;
      height: auto;
      vertical-align: middle;
      margin-bottom: 0px;
    }
    .institute-header h1 {
      color: #007f5f;
      margin: 5px 0 2px 0;
      font-size: 24px;
    }
    .institute-header h3 {
      color: #555;
      margin: 2px 0 10px 0;
      font-size: 16px;
      font-weight: normal;
    }
  </style>
</head>

<body>

<!-- Base URL for relative links -->
<base href="https://hasanbdt.github.io/epi-report/">

<!-- тЬЕ Navigation Menu Start -->
<style>
  .nav-links {
    background-color: #007f5f;
    padding: 10px 0;
    text-align: center;
    border-radius: 10px;
    margin-bottom: 20px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  }

  .nav-links a {
    color: white;
    text-decoration: none;
    margin: 0 15px;
    font-size: 16px;
    font-weight: bold;
    padding: 8px 12px;
    border-radius: 6px;
    transition: background-color 0.3s ease;
  }

  .nav-links a:hover {
    background-color: #34a0a4;
  }
</style>

<div class="nav-links">
  <a href="https://hasanbdt.github.io/epi-report/index.html">ЁЯУе рж░рж┐ржкрзЛрж░рзНржЯ ржЬржорж╛</a>
  <a href="https://hasanbdt.github.io/epi-report/list.html">ЁЯУЛ рж░рж┐ржкрзЛрж░рзНржЯ рж╕ржорзНржорж┐рж▓рж┐ржд</a>
  <a href="https://hasanbdt.github.io/epi-report/list-final.html">тнР рж░рж┐ржкрзЛрж░рзНржЯ ржЪрзВрзЬрж╛ржирзНржд</a>
  <a href="https://hasanbdt.github.io/epi-report/edit.html">тнР рж╕ржорзНржкрж╛ржжржирж╛</a>
  <a href="https://hasanbdt.github.io/epi-report/admin.html">тнР ржПрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓</a>
</div>

<!-- тЬЕ Navigation Menu End -->


<div class="institute-header">
  <img src="epi.png" alt="Logo" class="logo" />
  <h1>ржЗржкрж┐ржЖржЗ ржПржХрж╛ржбрзЗржорж┐, ржврж╛ржХрж╛</h1>
  <h3>рж╕рзНржмржкрзНржи ржкрзВрж░ржгрзЗ ржЖржЧрж╛ржорзАрж░ ржкржерзЗ...</h3>
</div>

<h3>ЁЯМЮ ржЖржорж╛рж░ ржЖржЬржХрзЗрж░ ржжрж┐ржирзЗрж░ рж░рж┐ржкрзЛрж░рзНржЯ</h3>

<marquee direction="left" scrollamount="5" style="color: green; font-weight: ; font-size: 20px; margin-bottom: 10px;">
  тЬЕ ржПржоржи ржЬрзАржмржи рждрзБржорж┐ ржХрж░рж┐ржмрзЗ ржЧржаржи, ржорж░ржирзЗ рж╣рж╛рж╕рж┐ржмрзЗ рждрзБржорж┐; ржХрж╛ржжрж┐ржмрзЗ ржнрзВржмржиред тЬЕ
</marquee>

 <div style="background: #f9fcff; border-left: 5px solid #007f5f; padding: 15px; margin-bottom: 20px; font-family: 'Siyam Rupali', sans-serif; font-size: 16px; line-height: 1.8;">
	  <p style="color: #00509e;"><strong>ЁЯФ╣ тАЬржЖрж▓рзНрж▓рж╛рж╣рзНтАМ рж╕ржмржХрж┐ржЫрзБ ржжрзЗржЦрзЗржи ржУ ржЬрж╛ржирзЗржи тАФ рждрзЛржорж╛рж░ ржлрж░рзНржо ржкрзВрж░ржг ржХрж░рж╛ржЯрж╛ржУредтАЭ</strong></p>
	  <p style="color: #d00000;">ЁЯФ╣ тАЬржорж┐ржерзНржпрж╛ ржмрж▓рж╛ рж╣рж╛рж░рж╛ржо, ржЖрж░ ржорж┐ржерзНржпрж╛ рж░рж┐ржкрзЛрж░рзНржЯ ржжрзЗржУрзЯрж╛ ржмрзЬ ржЧрзБржирж╛рж╣редтАЭ</p>
	  <p style="color: #007f5f;">ЁЯФ╣ тАЬржЖрж▓рзНрж▓рж╛рж╣рзНтАМ рж╕рждрзНржпржмрж╛ржжрзА ржмрж╛ржирзНржжрж╛ржХрзЗ ржнрж╛рж▓рзЛржмрж╛рж╕рзЗржиредтАЭ</p>
	  <p style="color: #007f5f;">ЁЯФ╣ тАЬрж╣рзЗ ржЖрж▓рзНрж▓рж╛рж╣/рж╕рзНрж░рж╖рзНржЯрж╛, рждрзБржорж┐ ржЖржорж╛ржХрзЗ ржПржХржЬржи рж╕рждрзНржпрж┐ржХрж╛рж░рзЗрж░ ржнрж╛рж▓рзЛ ржорж╛ржирзБрж╖ рж╣рждрзЗ рж╕рж░рзНржмржжрж╛ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░редтАЭ</p>
  </div>

<!-- ЁЯОе ржнрж┐ржбрж┐ржУ -->
<video id="instructionVideo" width="100%" preload="auto" controls controlsList="nodownload" disablePictureInPicture>
  <source src="study 5 rules.mp4" type="video/mp4">
  ржЖржкржирж╛рж░ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржнрж┐ржбрж┐ржУ ржЪрж╛рж▓рж╛рждрзЗ ржкрж╛рж░ржЫрзЗ ржирж╛ред
</video>


<form id="reportForm">
  <label>рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ ржирж╛ржо</label>
  <input type="text" name="studentName" required placeholder="Name (Only First Name)" />

  <label>ржХрзНрж▓рж╛рж╕</label>
  <input type="text" name="studentClass" required placeholder="Class (Letter)" />

  <label>рж░рзЛрж▓</label>
  <input type="text" name="studentRoll" required placeholder="Roll" />

  <label>рзз. ржЖржЬржХрзЗрж░ ржжрж┐ржиржЯрж┐ ржХрзЗржоржи ржЫрж┐рж▓?</label>
  <select name="dayFeeling" required>
    <option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
    <option>ЁЯШГ ржЦрзБржм ржнрж╛рж▓рзЛ</option>
    <option>ЁЯЩВ ржорзЛржЯрж╛ржорзБржЯрж┐</option>
    <option>ЁЯШР ржЦрж╛рж░рж╛ржк</option>
  </select>

  <label>рзи. ржЖржорж┐ ржЖржЬ ржХрзА рж╢рж┐ржЦрзЗржЫрж┐?</label>
    <select name="learned" required>
      <option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
      <option>ЁЯУЧ ржХрзЛрж░ржЖржирзЗрж░ ржЖрзЯрж╛ржд/ржЧрзАрждрж╛рж░ рж╢рзНрж▓рзЛржХ </option>
	  <option>ЁЯУШ ржирждрзБржи ржжрзЛрзЯрж╛/ржоржирзНрждрзНрж░</option>
	  <option>ЁЯУХ ржЗрж╕рж▓рж╛ржорж┐ржХ ржЖржжржм/ржзрж░рзНржорзАрзЯ ржЖржжржм</option>
	  <option>ЁЯУЩ ржЧржгрж┐ржд/ржмрж┐ржЬрзНржЮрж╛ржи/ржХржорзНржкрж┐ржЙржЯрж╛рж░</option>
	  <option>ЁЯУЩ ржирждрзБржи рж╢ржмрзНржжрж╛рж░рзНрже (ржЖрж░ржмрзА/ржЗржВрж░рзЗржЬрж┐)</option>
	  <option>ЁЯд╖ ржХрж┐ржЫрзБ рж╢рж┐ржЦрж┐ржирж┐</option>
    </select>

    <label>рзй. ржЖржЬ ржЖржорж┐ ржХрзА ржнрж╛рж▓рзЛ ржХрж╛ржЬ ржХрж░рзЗржЫрж┐?</label>
    <select name="goodDeed" required>
      <option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
      <option>ЁЯХМ ржХрж╛ржЙржХрзЗ ржнрж╛рж▓рзЛ ржХрж┐ржЫрзБ рж╢рж┐ржЦрж┐рзЯрзЗржЫрж┐</option>
      <option>ЁЯСР рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗржЫрж┐</option>
      <option>ЁЯШК ржнрж╛рж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржЫрж┐</option>
	  <option>ЁЯСР ржХрж╛ржЙржХрзЗ ржХрзНрж╖ржорж╛ ржХрж░рзЗ ржжрж┐рзЯрзЗржЫрж┐</option>
      <option>ЁЯШЗ ржорж┐ржерзНржпрж╛ ржмрж▓рж┐ржирж┐</option>
      <option>ЁЯЩБ ржХрж┐ржЫрзБ ржХрж░рж┐ржирж┐</option>
    </select>

    <label>рзк. ржЖржЬ ржХрзЛржирзЛ ржнрзБрж▓ ржХрж░рзЗржЫрж┐?</label>
	  <select name="mistake" required>
		<option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
		<option>ЁЯУ▒ ржорзЛржмрж╛ржЗрж▓ ржмрзЗрж╢рж┐ ржжрзЗржЦрзЗржЫрж┐</option>
		<option>ЁЯУЪ ржХрзНрж▓рж╛рж╕/ржкрзНрж░рж╛ржЗржнрзЗржЯрзЗрж░ ржкрзЬрж╛ ржнрж╛рж▓рзЛ рж╣рзЯржирж┐</option>
		<option>ЁЯШб рж░рж╛ржЧ ржХрж░рзЗржЫрж┐</option>
		<option>ЁЯЩК ржорж┐ржерзНржпрж╛ ржмрж▓рзЗржЫрж┐</option>
		<option>тЬЕ ржнрзБрж▓рзЗрж░ ржЬржирзНржп ржХрзНрж╖ржорж╛ ржЪрзЗрзЯрзЗржЫрж┐</option>
		<option>тЬЕ ржХрзЛржирзЛ ржнрзБрж▓ ржХрж░рж┐ржирж┐</option>
	  </select>

    <label>рзл. ржЖржЬ ржЖржорж╛рж░ ржЙржкрж░ ржХрзЗ ржмрзЗрж╢рж┐ ржЦрзБрж╢рж┐ ржЫрж┐рж▓?</label>
	  <select name="lovedPerson" required>
		<option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
		<option>ЁЯСй ржорж╛</option>
		<option>ЁЯСи ржмрж╛ржмрж╛</option>
		<option>ЁЯСитАНЁЯПл рж╢рж┐ржХрзНрж╖ржХ</option>
		<option>ЁЯСз ржмржирзНржзрзБ</option>
		<option>ЁЯдР ржХрзЗржЙ ржирж╛</option>
	  </select>

    <label>рзм. ржЖржЬ ржХрзА ржирж┐рзЯрзЗ ржмрзЗрж╢рж┐ ржнрж╛ржмржЫрж┐рж▓рж╛ржо?</label>
	  <select name="thoughtAbout" required>
		<option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
		<option>ЁЯХЛ ржЖрж▓рзНрж▓рж╛рж╣/рж╕рзНрж░рж╖рзНржЯрж╛</option>
		<option>ЁЯУЦ ржкрзЬрж╛рж▓рзЗржЦрж╛</option>
		<option>тЪ╜ ржЦрзЗрж▓рж╛ржзрзБрж▓рж╛</option>
		<option>ЁЯСР ржкрж░рж┐ржмрж╛рж░/ржЕрж░рзНржержирзАрждрж┐</option>
		<option>ЁЯСР рж╕ржорж╛ржЬ/ржжрзЗрж╢</option>
		<option>ЁЯЩВ ржХрж┐ржЫрзБ ржирж╛</option>
	  </select>

    <label>рзн. ржЖржЬ ржЖржорж┐ ржХрждржмрж╛рж░ ржкрзНрж░рж╛рж░рзНржержирж╛ ржХрж░рзЗржЫрж┐?</label>
    <select name="prayerTimes" required>
      <option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
      <option>ЁЯХЛ рзл ржмрж╛рж░</option>
      <option>ЁЯХМ рзй-рзк ржмрж╛рж░</option>
      <option>ЁЯШХ рзз-рзи ржмрж╛рж░</option>
      <option>ЁЯЩБ рзз ржмрж╛рж░ржУ ржирж╛</option>
    </select>

    <label>рзо. ржЖржЬ ржЖржорж┐ ржХрждржмрж╛рж░ ржЖрж▓рзНрж▓рж╛рж╣ржХрзЗ/рж╕рзНрж░рж╖рзНржЯрж╛ржХрзЗ рж╕рзНржорж░ржг ржХрж░рзЗржЫрж┐?</label>
    <select name="rememberAllah" required>
      <option value="" disabled selected>-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
      <option>ЁЯФЯ рззрзж ржмрж╛рж░рзЗрж░ ржмрзЗрж╢рж┐</option>
      <option>тЮР рзл-рззрзж ржмрж╛рж░</option>
      <option>тЮМ рзз-рзк ржмрж╛рж░</option>
      <option>ЁЯЩБ ржПржХржмрж╛рж░ржУ ржирж╛</option>
    </select>

  <button type="submit" class="submit-btn">тЬЕ рж░рж┐ржкрзЛрж░рзНржЯ ржЬржорж╛ ржжрж╛ржУ</button>
</form>

<button id="viewResultBtn" class="result-btn" onclick="window.location.href='https://hasanbdt.github.io/epi-report/list-final.html'">ЁЯУК ржлрж▓рж╛ржлрж▓ ржжрзЗржЦрзЛ...</button>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
  // тЬЕ Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyDwKp_6znRl7TkIpXa3uFuZGOUxSHnkHOM",
    authDomain: "dailyreport-9512d.firebaseapp.com",
    databaseURL: "https://dailyreport-9512d-default-rtdb.firebaseio.com",
    projectId: "dailyreport-9512d",
    storageBucket: "dailyreport-9512d.appspot.com",
    messagingSenderId: "469725849063",
    appId: "1:469725849063:web:3d82a4560478d1b11f8942"
  };

  firebase.initializeApp(firebaseConfig);
  const database = firebase.database();

  
  // тЬЕ ржХрзЗржмрж▓ ржЗржВрж░рзЗржЬрж┐ ржЕржХрзНрж╖рж░ ржЕржирзБржорзЛржжрж┐ржд
  function enforceEnglishOnly(inputElement) {
    inputElement.addEventListener("input", function () {
      this.value = this.value.replace(/[^A-Za-z0-9 ]/g, "");
    });
  }

  enforceEnglishOnly(form.studentName);
  enforceEnglishOnly(form.studentClass);
  enforceEnglishOnly(form.studentRoll);

  // тЬЕ рж░рж┐ржкрзЛрж░рзНржЯ ржЬржорж╛
  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const data = {
      studentName: form.studentName.value.trim(),
      studentClass: form.studentClass.value.trim(),
      studentRoll: form.studentRoll.value.trim(),
      dayFeeling: form.dayFeeling.value,
      learned: form.learned.value,
      goodDeed: form.goodDeed.value,
      mistake: form.mistake.value,
      lovedPerson: form.lovedPerson.value,
      thoughtAbout: form.thoughtAbout.value,
      prayerTimes: form.prayerTimes.value,
      rememberAllah: form.rememberAllah.value,
      timestamp: new Date().toISOString()
    };

    database.ref("dailyReports").push(data)
      .then(() => {
        form.reset();
        submitBtn.style.display = "none";
        resultBtn.style.display = "block";
		form.style.display = "none";
        alert("тЬЕ рж░рж┐ржкрзЛрж░рзНржЯ рж╕ржлрж▓ржнрж╛ржмрзЗ ржЬржорж╛ рж╣рзЯрзЗржЫрзЗ!");
      })
      .catch(error => {
        alert("ржЬржорж╛ ржжрж┐рждрзЗ рж╕ржорж╕рзНржпрж╛ рж╣рзЯрзЗржЫрзЗ: " + error.message);
      });
  });
</script>

<script>
  const video = document.getElementById("instructionVideo");
  const form = document.getElementById("reportForm");
  const submitBtn = document.querySelector(".submit-btn");
  const resultBtn = document.getElementById("viewResultBtn");

  // ржнрж┐ржбрж┐ржУ ржЯрзЗржирзЗ ржПржЧрзЛржирзЛ ржарзЗржХрж╛ржирзЛ
  let lastTime = 0;
  video.addEventListener("timeupdate", () => {
    if (video.currentTime - lastTime > 1) {
      video.currentTime = lastTime;
    } else {
      lastTime = video.currentTime;
    }
  });

  // рж╢рзБрж░рзБрждрзЗржЗ ржлрж░рзНржо ржУ ржмрж╛ржЯржи рж▓рзБржХрж┐рзЯрзЗ рж░рж╛ржЦрзБржи
  form.style.display = "none";
  submitBtn.style.display = "none";
  resultBtn.style.display = "none";

  // ржнрж┐ржбрж┐ржУ рж╢рзЗрж╖ рж╣рж▓рзЗ ржлрж░рзНржо ржУ ржЬржорж╛ ржмрж╛ржЯржи ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗ
  video.onended = () => {
    form.style.display = "block";
    submitBtn.style.display = "block";
  };

  // рж╢рзБржзрзБ ржЗржВрж░рзЗржЬрж┐ ржЕржХрзНрж╖рж░, рж╕ржВржЦрзНржпрж╛, рж╕рзНржкрзЗрж╕ ржЕржирзБржорзЛржжржи
  function enforceEnglishOnly(inputElement) {
    inputElement.addEventListener("input", function () {
      this.value = this.value.replace(/[^A-Za-z0-9 ]/g, "");
    });
  }

  enforceEnglishOnly(form.studentName);
  enforceEnglishOnly(form.studentClass);
  enforceEnglishOnly(form.studentRoll);

  
  
  form.addEventListener("submit", function (e) {
  e.preventDefault();

  const data = {
    studentName: form.studentName.value.trim(),
    studentClass: form.studentClass.value.trim(),
    studentRoll: form.studentRoll.value.trim(),
    dayFeeling: form.dayFeeling.value,
    learned: form.learned.value,
    goodDeed: form.goodDeed.value,
    mistake: form.mistake.value,
    lovedPerson: form.lovedPerson.value,
    thoughtAbout: form.thoughtAbout.value,
    prayerTimes: form.prayerTimes.value,
    rememberAllah: form.rememberAllah.value,
    timestamp: new Date().toISOString()
  };

  const today = new Date().toISOString().split("T")[0];

  firebase.database().ref("dailyReports").once("value").then(snapshot => {
    let duplicateFound = false;

    snapshot.forEach(child => {
      const item = child.val();
      const itemDate = new Date(item.timestamp).toISOString().split("T")[0];

      if (
        itemDate === today &&
        item.studentName === data.studentName &&
        item.studentClass === data.studentClass &&
        item.studentRoll === data.studentRoll
      ) {
        duplicateFound = true;
      }
    });

    if (duplicateFound) {
      alert("тЭМ ржЖржЬржХрзЗрж░ ржЬржирзНржп ржПржЗ ржЫрж╛рждрзНрж░рзЗрж░ рждржерзНржп ржЗрждрзЛржоржзрзНржпрзЗ ржЬржорж╛ рж╣рзЯрзЗржЫрзЗ!");
    } else {
      firebase.database().ref("dailyReports").push(data)
        .then(() => {
          form.reset();
          form.style.display = "none";
          submitBtn.style.display = "none";
          resultBtn.style.display = "block";
          alert("тЬЕ рж░рж┐ржкрзЛрж░рзНржЯ рж╕ржлрж▓ржнрж╛ржмрзЗ ржЬржорж╛ рж╣рзЯрзЗржЫрзЗ!");
        })
        .catch(error => {
          alert("тЭМ рж░рж┐ржкрзЛрж░рзНржЯ ржЬржорж╛ ржжрж┐рждрзЗ рж╕ржорж╕рзНржпрж╛ рж╣рзЯрзЗржЫрзЗ: " + error.message);
        });
    }
  });
});

</script>

</body>
</html>
